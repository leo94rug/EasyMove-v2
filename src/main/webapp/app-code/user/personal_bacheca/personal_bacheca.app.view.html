<nav-bar></nav-bar>
<!-- Main -->
<main class="main" role="main" ng-init="vm.page = 1">
    <div class="wrap">
        <div class="row">
            <!--- Sidebar -->
            <side-bar-pers></side-bar-pers>
            <!--- //Sidebar -->
            <div class="three-fourth content">
                <div id="titolo_pp" class="options-block" style="background: #fff;box-shadow: inset 0 0 0 1px #DFDFD0;">
                    <div id="immagine_p">
                        <img ng-src="{{vm.user.foto_utente}}" style="border-radius: 100px;max-height: 105px;margin: 1px;max-width: 114px;">

                        <!--<div> {{vm.user.utente.foto_utente}}</div>-->
                    </div>
                    <div id="nome_p" class="textProfileInPhone" ng-if="vm.user.sesso==='male'">
                        Bentornato!
                    </div>
                    <div id="nome_p" class="textProfileInPhone" ng-if="vm.user.sesso==='female'">
                        Bentornata!
                    </div>
                    <div id="notifiche_p" class="textProfileInPhone">
                        Hai {{vm.number}} notifiche
                    </div>
                </div>
                <div style="margin-top: 20px;">
                    <md-content style="background-color: inherit;">
                        <md-list>
                            <md-list-item class="md-3-line box options-block" ng-repeat="item in vm.notifiche" style="margin-bottom: 10px;padding: 0px;">
                                <div class="flex-container-bacheca">
                                    <div class="flex-item item1">
                                        <a ng-href="profilo-utenti/{{item.id_utente}}">
                                            <img data-ng-src="{{item.foto_utente}}" style="height: 70%;border-radius: 50%;">
                                        </a>
                                    </div>
                                    <div class="flex-item item2 flex-container-ins">
                                        <div class="flex-item-ins item1-ins">
                                            <div class="flex-item-ins-ins">
                                                <div>{{item.titolo}} da {{item.nome_mittente}}
                                                    <div ng-if="item.tipologia!==1">per il viaggio {{item.nome_viaggio}} </div>
                                                </div>
                                            </div>
                                            <div class="flex-item-ins-ins">
                                                <div>
                                                    <img ng-click="vm.removeNotification(item.id)" ng-src="images/close.png" class="grandezza_img">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex-item-ins item2-ins">
                                            Messaggio: {{item.messaggio}}
                                        </div>
                                        <div class="flex-item-ins item3-ins">
                                            <div class="flex-item-ins-ins bottoni">
                                                <md-button ng-if="item.bottone_1!=undefined" ng-click="vm.bottone1(item,$event)" class="centra md-raised">{{item.bottone_1}}</md-button>
                                            </div>
                                            <div class="flex-item-ins-ins bottoni">
                                                <md-button ng-if="item.bottone_2!=undefined" ng-click="vm.bottone2(item)" class="centra md-raised">{{item.bottone_2}}</md-button>
                                            </div>
                                        </div>
                                        <div class="flex-item-ins item4-ins">
                                            Inviato il {{item.data | date : "H:mm - d/M/y"}}
                                        </div>
                                    </div>
                                </div>
                            </md-list-item>
                        </md-list>
                    </md-content>
                    <!--
                    <md-content style="background-color: inherit;">
                        <md-list>
                            <md-list-item class="md-3-line" ng-repeat="item in vm.notifiche.notifichelist" style="margin-bottom: 10px;">
                                <div ng-if="item.tipologia === 2" style="width: 100%;">
                                    <div class="md-list-item-text box options-block">
                                        <div>
                                            <img ng-click="vm.rifiuta(item)" ng-src="images/close.png" class="one-sixthr grandezza_img">
                                            <p ng-click="vm.profilo(item)"><b>Inviato da:</b>{{item.nome_mittente}} <b>il</b> {{item.date}} per il viaggio <b>{{item.nomeViaggio}}</b></p>
                                        </div>
                                        <div>
                                            <div class="two-third">
                                                <p><b>Messaggio:</b> {{item.messaggio}}</p>
                                                <h3 ng-click="vm.profilo(item)">Accetta per condividere i tuoi dati con {{item.nome_mittente}}</h3>
                                            </div>
                                            <div class="one-third">
                                                <md-button ng-click="vm.accettaCondivisione(item)" class="md-raised ">Accetta</md-button>
                                                <md-button ng-click="vm.rifiuta(item)" class="md-raised md-warn ">Rifiuta</md-button>
                                            </div>
                                        </div>         
                                    </div>
                                </div>
                                <div ng-if="item.tipologia === 1" style="width: 100%;">
                                    <div class="md-list-item-text box options-block">
                                        <div >
                                            <img ng-click="vm.rifiuta(item)" ng-src="images/close.png" class="one-sixthr grandezza_img">
                                        </div>
                                        <div>
                                            <p ng-click="vm.profilo(item)"><b>Inviata da:</b>{{item.nome_mittente}} <b>il</b> {{item.date}} per il viaggio <b>{{item.nomeViaggio}}</b></p>
                                        </div>
                                        <div>
                                            <h3><b>Messaggio:</b> {{item.messaggio}}</h3>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="item.tipologia === 3" style="width: 100%;">
                                    <div class="md-list-item-text box options-block">
                                        <div>
                                            <img ng-click="vm.rifiuta(item)" ng-src="images/close.png" class="one-sixthr grandezza_img">
                                        </div>                                        
                                        <div>
                                            <h3 ng-click="vm.profilo(item)">{{item.nome_mittente}} <b>ha inserito un feedback:</b></h3>
                                        </div>
                                        <div>
                                            <md-button ng-href="feedback-ricevuti" class="md-raised ">Visualizza</md-button>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="item.tipologia === 4" style="width: 100%;">
                                    <div class="md-list-item-text box options-block">
                                        <div>
                                            <img ng-click="vm.rifiuta(item)" ng-src="images/close.png" class="one-sixthr grandezza_img">
                                        </div>
                                        <div>
                                            <h3 ng-click="vm.profilo(item)"><b>Inserisci un feedback a:</b> {{item.nome_mittente}}</h3>
                                            <p>per il viaggio <b>{{item.nomeViaggio}}</b></p>
                                        </div>
                                        <div>
                                            <md-button ng-click="vm.addFeedback(item)" class="md-raised ">Inserisci</md-button>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="item.tipologia === 5" style="width: 100%;">
                                    <div class="md-list-item-text box options-block">
                                        <div >
                                            <img ng-click="vm.rifiuta(item)" ng-src="images/close.png" class="one-sixthr grandezza_img">
                                            <p ng-click="vm.profilo(item)"><b><a>{{item.nome_mittente}}</a> ha accettato di condividere i suoi dati </b></p>
                                        </div>
                                        <div class="two-third">
                                            <p>Seleziona il numero di posti che vuoi bloccare per il viaggio <b>{{item.nomeViaggio}}</b> e clicca su prenota, <b>{{vm.attenzione}}</b> <i>sono disponibili {{item.posti}} posti</i></p>
                                        </div>
                                        <div class="one-third">
                                            <md-input-container>
                                                <md-select ng-model="vm.posti" placeholder="Posti">
                                                    <md-optgroup label="Posti">
                                                        <md-option ng-value="option.value" ng-repeat="option in vm.options| filter: {category: 'posti' }">{{option.name}}</md-option>
                                                    </md-optgroup>
                                                </md-select>
                                            </md-input-container>
                                            <md-button ng-click="vm.prenota(item)" class="md-raised ">Prenota</md-button>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="item.tipologia === 6" style="width: 100%;">
                                    <div class="md-list-item-text box options-block">
                                        <div>
                                            <img ng-click="vm.rifiuta(item)" ng-src="images/close.png" class="one-sixthr grandezza_img">
                                            <div>
                                                <p>Richiesta di prenotazione per il viaggio <b>{{item.nomeViaggio}}</b></p>
                                            </div>
                                        </div>
                                        <div class="two-third">
                                            <h3 ng-click="vm.profilo(item)"><b>{{item.nome_mittente}}</b> vorrebbe prenotare {{item.messaggio}} posti</h3>
                                        </div>
                                        <div class="one-third">
                                            <md-button ng-click="vm.accettaprenotazione(item)" class="md-raised ">Accetta</md-button>
                                            <md-button ng-click="vm.rifiuta(item)" class="md-raised md-warn ">Rifiuta</md-button>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="item.tipologia === 7" style="width: 100%;">
                                    <div class="md-list-item-text box options-block">
                                        <div>
                                            <img ng-click="vm.rifiuta(item)" ng-src="images/close.png" class="one-sixthr grandezza_img">
                                        </div>
                                        <p ng-click="vm.profilo(item)">{{item.nome_mittente}} {{item.messaggio}} per il viaggio <b>{{item.nomeViaggio}}</b></p>
                                    </div>
                                </div>
                            </md-list-item>
                        </md-list>
                    </md-content>
                </div>-->
                </div>
            </div>
        </div>
</main>
<!-- //Main -->
<foo-ter></foo-ter>